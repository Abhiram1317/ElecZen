<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ElecZen ‚Äî EV Charging App</title>

<style>
body {
  margin: 0;
  background: #0c0c1a;
  color: #e0f7ff;
  font-family: 'Inter', sans-serif;
  height: 100vh;
  overflow: hidden;
  transition: 0.3s;
}
body.light { background: #e8faff; color: #002029; }

#app { display: flex; height: 100%; }

nav {
  width: 260px;
  background: #0b0b1f;
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 15px;
  box-shadow: 0 0 20px #00ffe5 inset;
  transition: 0.3s;
}
nav.light { background: #c6f7ff; }

nav .logo {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 20px;
}
nav .logo img {
  width: 55px;
  height: 55px;
  border-radius: 12px;
  box-shadow: 0 0 12px #00ffe0;
}

nav a {
  color: #e0f7ff;
  text-decoration: none;
  padding: 10px 12px;
  border-radius: 8px;
  font-weight: 600;
  transition: 0.3s;
}
nav a.active,
nav a:hover {
  background: #00ffe0;
  color: #001f2a;
  box-shadow: 0 0 12px #00ffe0;
}

main {
  flex: 1;
  overflow: auto;
  padding: 30px;
  background: #0c0c1a;
  transition: 0.3s;
}
main.light { background: #f0fcff; }

.card {
  background: rgba(0,255,224,0.06);
  padding: 20px;
  border-radius: 12px;
  margin-bottom: 22px;
  box-shadow: 0 0 10px #00ffe0;
  transition: 0.3s;
}
.card:hover {
  transform: scale(1.02);
  box-shadow: 0 0 20px #00ffe0;
}

h2, h3, h4 { color: #00ffe0; }

input, textarea, button {
  padding: 10px;
  border-radius: 8px;
  border: none;
  outline: none;
  width: 100%;
  margin-top: 8px;
  transition: 0.3s;
}

button {
  cursor: pointer;
  font-weight: 700;
}
button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.btn-primary {
  background: linear-gradient(90deg, #00ffe0, #00bfff);
  color: #001f2a;
  box-shadow: 0 0 10px #00ffe0;
}

.feedback-item {
  padding: 10px;
  margin: 5px;
  background: rgba(255,255,255,0.05);
  border-radius: 8px;
}
</style>
</head>

<body>
<div id="app">

<!-- SIDEBAR -->
<nav>
  <div class="logo">
    <img src="ElecZen.jpg">
    <span style="font-size:20px;font-weight:700;">ElecZen</span>
  </div>

  <button id="themeToggle" class="btn-primary">Toggle Theme</button>

  <a data-page="home" class="active">üè† Home</a>
  <a data-page="register">üìù Register</a>
  <a data-page="login">üîê Login</a>
  <a data-page="account">üë§ Account</a>
  <a data-page="history">üìò Booking History</a>
  <a data-page="feedback">üí¨ Feedback</a>
</nav>

<main>

<!-- HOME -->
<section id="home" class="page">
  <div class="card">
    <h2>Welcome to ElecZen</h2>
    <p>The fastest mobile EV charging service in Hyderabad.</p>
  </div>

  <div class="card">
    <h3>About Us</h3>
    <p>ElecZen is Hyderabad‚Äôs most advanced smart EV charging platform.</p>
    <ul>
      <li>‚ö° 24/7 Rapid Mobile Charging</li>
      <li>üìç Smart Location-Based Dispatch</li>
      <li>üîê Secure Cloud Accounts</li>
      <li>üìä Points & Rewards System</li>
      <li>üõ†Ô∏è Instant Support & Service Tracking</li>
    </ul>
  </div>

  <div class="card">
    <h3>Daily EV Tip</h3>
    <p id="tipText">Loading...</p>
  </div>
</section>

<!-- REGISTER -->
<section id="register" class="page" style="display:none">
  <div class="card">
    <h2>Create Account</h2>
    <form id="regForm">
      <input name="name" placeholder="Full Name" required />
      <input name="email" type="email" placeholder="Email" required />
      <input name="password" type="password" placeholder="Password" required />
      <input name="vehicle" placeholder="Vehicle Model" required />
      <button class="btn-primary">Register</button>
    </form>
    <div id="regMsg"></div>
  </div>
</section>

<!-- LOGIN -->
<section id="login" class="page" style="display:none">
  <div class="card">
    <h2>Login</h2>
    <input id="logEmail" placeholder="Email">
    <input id="logPass" type="password" placeholder="Password">
    <button class="btn-primary" id="loginBtn">Login</button>
    <p id="loginMsg"></p>
  </div>
</section>

<!-- ACCOUNT -->
<section id="account" class="page" style="display:none">
  <div class="card">
    <h2>My Account</h2>
    <div id="acctInfo">Please login first</div>

    <h3>Profile Picture</h3>
    <input type="file" id="profilePic" disabled />

    <h3>Charging Request</h3>
    <button class="btn-primary" id="reqCharge" disabled>Request Charging</button>
    <p id="reqMsg"></p>

    <h3>Reward Points</h3>
    <p>Total: <span id="pointsCount">0</span></p>

    <button class="btn-primary" id="logoutBtn" disabled>Logout</button>
  </div>
</section>

<!-- HISTORY -->
<section id="history" class="page" style="display:none">
  <div class="card">
    <h2>Booking History</h2>
    <div id="historyList"></div>
  </div>
</section>

<!-- FEEDBACK -->
<section id="feedback" class="page" style="display:none">
  <div class="card">
    <h2>Feedback</h2>
    <textarea id="fbText" rows="4" placeholder="Write your feedback..."></textarea>
    <button class="btn-primary" id="fbSubmit">Submit</button>
    <div id="fbMsg"></div>
  </div>

  <div class="card">
    <h3>Previous Feedback</h3>
    <div id="fbList"></div>
  </div>
</section>

</main>
</div>

<script>
const pages = document.querySelectorAll(".page");
const navLinks = document.querySelectorAll("nav a");

navLinks.forEach(a => a.onclick = () => showPage(a.dataset.page));

function showPage(page) {
  pages.forEach(p => p.style.display = p.id === page ? "" : "none");
  navLinks.forEach(a => a.classList.toggle("active", a.dataset.page === page));
}

// Theme toggle
themeToggle.onclick = () => {
  document.body.classList.toggle("light");
};

// EV Tips
const tips = [
  "Charge between 20‚Äì80% for best battery health.",
  "Avoid charging in extreme heat.",
  "Use scheduled charging during off-peak hours.",
  "Keep your EV software up to date."
];
setInterval(() => {
  tipText.textContent = tips[Math.floor(Math.random() * tips.length)];
}, 3000);

// Register
regForm.onsubmit = e => {
  e.preventDefault();
  let user = {
    name: regForm.name.value,
    email: regForm.email.value,
    password: regForm.password.value,
    vehicle: regForm.vehicle.value
  };
  localStorage.setItem("ez_user", JSON.stringify(user));
  regMsg.textContent = "Account created!";
  setTimeout(() => showPage("login"), 800);
};

// Login
loginBtn.onclick = () => {
  let user = JSON.parse(localStorage.getItem("ez_user") || "null");

  if (user && user.email === logEmail.value && user.password === logPass.value) {
    localStorage.setItem("ez_logged", "yes");
    enableAccount();
    loginMsg.textContent = "Login Successful!";
    setTimeout(() => showPage("account"), 800);
  } else {
    loginMsg.textContent = "Invalid Email or Password!";
  }
};

// Enable/disable account features
function enableAccount() {
  profilePic.disabled = false;
  reqCharge.disabled = false;
  logoutBtn.disabled = false;
  loadAccount();
}
function disableAccount() {
  profilePic.disabled = true;
  reqCharge.disabled = true;
  logoutBtn.disabled = true;
  acctInfo.textContent = "Please login first";
}

// Load account details
function loadAccount() {
  let u = JSON.parse(localStorage.getItem("ez_user") || "{}");
  acctInfo.innerHTML = `
    <b>Name:</b> ${u.name} <br>
    <b>Email:</b> ${u.email} <br>
    <b>Vehicle:</b> ${u.vehicle}
  `;
  pointsCount.textContent = localStorage.getItem("ez_points") || 0;
  loadHistory();
}

// Charging request
reqCharge.onclick = () => {
  let history = JSON.parse(localStorage.getItem("ez_hist") || "[]");
  history.push({ time: new Date().toLocaleString() });
  localStorage.setItem("ez_hist", JSON.stringify(history));

  reqMsg.textContent = "Charging request submitted!";

  let points = Number(localStorage.getItem("ez_points") || 0) + 10;
  localStorage.setItem("ez_points", points);
  pointsCount.textContent = points;

  loadHistory();
};

// Load history
function loadHistory() {
  let list = JSON.parse(localStorage.getItem("ez_hist") || "[]");
  historyList.innerHTML = list
    .map(i => `<div class="history-item">Requested at: ${i.time}</div>`)
    .join("");
}

// Logout
logoutBtn.onclick = () => {
  localStorage.removeItem("ez_logged");
  disableAccount();
  showPage("login");
};

// Load login state on startup
if (localStorage.getItem("ez_logged") === "yes") {
  enableAccount();
} else {
  disableAccount();
}

// Feedback submit
fbSubmit.onclick = () => {
  let text = fbText.value.trim();
  if (text.length < 3) {
    fbMsg.textContent = "Feedback too short!";
    return;
  }

  let all = JSON.parse(localStorage.getItem("ez_feedback") || "[]");
  all.push({ text, time: new Date().toLocaleString() });

  localStorage.setItem("ez_feedback", JSON.stringify(all));

  fbMsg.textContent = "Feedback submitted!";
  fbText.value = "";
  loadFeedback();
};

// Load feedback
function loadFeedback() {
  let all = JSON.parse(localStorage.getItem("ez_feedback") || "[]");
  fbList.innerHTML = all
    .map(f => `<div class="feedback-item"><b>${f.time}</b><br>${f.text}</div>`)
    .join("");
}
loadFeedback();
</script>

</body>
</html>

